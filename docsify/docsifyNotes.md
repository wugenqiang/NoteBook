# Docsify æ–‡æ¡£æ„å»ºè¯´æ˜ä¹¦

## 1 å¼•è¨€

åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç¼–ç¨‹äººå‘˜ç»å¸¸éœ€è¦å†™æ–‡æ¡£ï¼Œå¦‚å¼€å‘æ–‡æ¡£ã€æ¥å£ `API` æ–‡æ¡£ã€è½¯ä»¶ä½¿ç”¨æ‰‹å†Œç­‰ï¼Œä¹Ÿä¼šç¼–å†™ `Blog` è®°å½•å¼€å‘è¿‡ç¨‹ï¼ŒæŠ€æœ¯æ„Ÿæ‚Ÿï¼ˆæ¯”å¦‚æˆ‘çš„åšå®¢ï¼š[EnjoyToShare](https://wugenqiang.gitee.io/) ï¼‰ã€‚å¯¹äºè¿™äº›æ–‡æ¡£ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç¼–å†™äººå‘˜æœ‰ä»¥ä¸‹å‡ ç§éœ€æ±‚ï¼šç¼–å†™ç®€å•ã€å¯¹å¤–å‘å¸ƒã€æ ¼å¼å‹å¥½ã€å½¢å¼ä¸“ä¸šã€‚è€Œç¼–å†™çš„å·¥å…·åˆ™æœ‰å¥½å¤šï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç±»ï¼š

> æ–‡æ¡£ç¼–å†™å·¥å…· 

* wordå·¥å…·ç±»ï¼šå¦‚ office wordï¼Œwpsï¼Œtxt ç­‰

* å¹³å°åšå®¢ç±»ï¼šcsdnï¼Œç®€ä¹¦ï¼Œoschina ç­‰

* è‡ªå»ºç½‘ç«™ç±»ï¼šgithubï¼Œhexoï¼Œgitbookï¼Œmarkdown ç­‰

* çŸ¥è¯†å·¥å…·ç±»ï¼šconfluenceï¼Œè¯­é›€ï¼Œçœ‹äº‘ç­‰

å½“ç„¶ï¼Œå„ç§å·¥å…·æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œç®€å•ä¸€ç‚¹çš„è¯ï¼Œä½¿ç”¨è¯­é›€ã€çœ‹äº‘æ¥å†™é•¿ç³»åˆ—æ–‡ç« æˆ–è€…ä¹¦ç±ä¹Ÿæ¯”è¾ƒé€‚åˆï¼Œä½†ä½œä¸ºä¸€ä¸ªå¼€å‘äººå‘˜ï¼Œå¸Œæœ›æ‰¾ä¸€ä¸ªèƒ½å±äºè‡ªå·±çš„ï¼Œç®€å•çš„ï¼Œæœ‰ç‚¹é€¼æ ¼çš„æ–‡æ¡£å·¥å…·ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹å¼€æºè½¯ä»¶æ–‡æ¡£ç¼–å†™ï¼Œæ”¾ä¸ª `pdf` æˆ–è€… `doc` æ–‡æ¡£ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼Œæœ€å¥½èƒ½è·Ÿ `github` å…³è”ï¼Œå³æ—¶å¯çœ‹ï¼Œåˆæ–¹ä¾¿ç»´æŠ¤ï¼Œå¦‚æ­¤ï¼Œåˆ™é `docsify` è«å±äº†ï¼ˆå½“ç„¶ `gitbook` ä¹Ÿè¡Œï¼‰ã€‚å¦‚ä¸‹å¯ä»¥æˆªå›¾çœ‹ä¸€ä¸‹åŸºäº `docsify` æ„å»ºçš„æ–‡æ¡£ã€‚æœ¬æ–‡é’ˆå¯¹å¦‚ä½•ä½¿ç”¨ `docsify` å®ç°æ–‡æ¡£æ„å»ºè¿›è¡Œè®²è§£ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°æƒ³æ„å»ºè‡ªå·±çš„æ–‡æ¡£ç½‘ç«™çš„åŒä»ã€‚

## 2 Docsify ç®€ä»‹

æŒ‰ [Docsify](https://docsify.js.org) å®˜ç½‘çš„ä»‹ç»ï¼Œä¸€å¥è¯:ä¸€ä¸ªç¥å¥‡çš„æ–‡æ¡£ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œä½¿ç”¨å®ƒï¼Œå¯ä»¥ä½¿ç”¨ç®€å•çš„æ–¹å¼ï¼Œæ„å»ºä¸€ä¸ªä¸“ä¸šçš„æ–‡æ¡£ç½‘ç«™ã€‚å¦‚æœä½¿ç”¨è¿‡ `GitBook` å’Œ `Hexo` çš„åŒä»ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨ `markdown` ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬ä¸º `html` è¿›è¡Œæ˜¾ç¤ºã€‚è€Œ `docsify` æ˜¯ä¸€ä¸ªåŠ¨æ€ç”Ÿæˆæ–‡æ¡£ç½‘ç«™çš„å·¥å…·ã€‚ä¸åŒäº `GitBook`ã€`Hexo` çš„åœ°æ–¹æ˜¯å®ƒä¸ä¼šç”Ÿæˆå°† `.md` è½¬æˆ `.html` æ–‡ä»¶ï¼Œæ‰€æœ‰è½¬æ¢å·¥ä½œéƒ½æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œã€‚åªéœ€è¦åˆ›å»ºä¸€ä¸ª `index.html` ï¼Œå°±å¯ä»¥å¼€å§‹å†™æ–‡æ¡£è€Œä¸”ç›´æ¥éƒ¨ç½²åœ¨ `GitHub Pages` è¿›è¡Œå‘å¸ƒï¼Œæ–¹ä¾¿ã€å¿«æ·ã€æ ¼å¼å‹å¥½ï¼Œæ ·å¼ä¸é”™ã€‚

> åŸºäº Docsify è®¾è®¡æ–‡æ¡£é¢„è§ˆé“¾æ¥ï¼š[EnjoyToShare é¡¹ç›®ç¬”è®°]()

## 3 ä½¿ç”¨ docsify æ„å»ºæ–‡æ¡£

> æœ¬ç« èŠ‚å°†å¯¹å¦‚ä½•ä½¿ç”¨ `docsify` æ„å»ºæ–‡æ¡£è¿›è¡Œè¯¦ç»†æè¿°ã€‚

### 3.1 æ„å»º docsify ç›®å½•ç»“æ„

> (1) å®‰è£… `npm`  

* gitï¼š[http://git-scm.com/](https://link.jianshu.com/?t=http://git-scm.com/)   å®‰è£… git å³å¯

> (2) å®‰è£… `nodejs`

* node.jsï¼š[http://nodejs.org/](https://link.jianshu.com/?t=http://nodejs.org/)

> (3) å®‰è£… `docsify`

* å®‰è£… `docsify-cli` å·¥å…·ï¼Œæ–¹ä¾¿åˆ›å»ºåŠæœ¬åœ°é¢„è§ˆæ–‡æ¡£ç½‘ç«™ã€‚

```
npm i docsify-cli -g
```

> (4) åˆå§‹åŒ–é¡¹ç›®

* è¿›å…¥æŒ‡å®šæ–‡ä»¶ç›®å½•ï¼Œè¿›è¡Œåˆå§‹åŒ–æ“ä½œ

``` 
docsify init ./docs
```

`docsify` æœ‰å…¶è§„èŒƒçš„ç›®å½•ç»“æ„,åˆå§‹åŒ–æˆåŠŸåï¼Œå¯ä»¥çœ‹åˆ° `./docs` ç›®å½•ä¸‹æœ€åŸºæœ¬çš„ç»“æ„å¦‚ä¸‹ï¼š

* `index.html`  # å…¥å£æ–‡ä»¶
* `README.md`   # ä¼šåšä¸ºä¸»é¡µå†…å®¹æ¸²æŸ“
* `.nojekyll`   # ç”¨äºé˜»æ­¢ GitHub Pages ä¼šå¿½ç•¥æ‰ä¸‹åˆ’çº¿å¼€å¤´çš„æ–‡ä»¶

![ç›®å½•ç»“æ„](../images/catalog-20200208.jpg)


> (5) æœ¬åœ°é¢„è§ˆç½‘ç«™

* è¿è¡Œä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨é€šè¿‡ `docsify serve` å¯ä»¥æ–¹ä¾¿çš„é¢„è§ˆæ•ˆæœï¼Œè€Œä¸”æä¾› LiveReload åŠŸèƒ½ï¼Œå¯ä»¥è®©å®æ—¶çš„é¢„è§ˆã€‚é»˜è®¤è®¿é—® http://localhost:3000/#/ å’Œ http://127.0.0.1:3000/#/

```
docsify serve docs
```

* é¢„è§ˆå›¾ï¼š(ç”±äº README.md æ–‡ä»¶è¢«æˆ‘å¢åŠ äº†å†…å®¹ï¼Œæ•…æ˜¾ç¤ºä¿®æ”¹åçš„å†…å®¹)

![æœ¬åœ°é¢„è§ˆ](../images/preview-20200208.jpg)

ä¸€ä¸ªåŸºæœ¬çš„æ–‡æ¡£ç½‘ç«™å°±æ­å»ºå¥½äº†ï¼Œ`docsify` è¿˜å¯ä»¥è‡ªå®šä¹‰å¯¼èˆªæ ï¼Œè‡ªå®šä¹‰ä¾§è¾¹æ ä»¥åŠèƒŒæ™¯å›¾å’Œä¸€äº›å¼€å‘æ’ä»¶ç­‰ç­‰ã€‚æ›´å¤šé…ç½®è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ https://docsify.js.org

> æœŸå¾…ç»§ç»­ä¼˜åŒ–ï¼Œï¼Œï¼Œgo on

### 3.2 æ·»åŠ æ–‡æ¡£æ ‡é¢˜å

* åœ¨é¡µé¢å·¦ä¸Šè§’æ·»åŠ æ–‡æ¡£æ ‡é¢˜å(è‡ªå®šä¹‰)ï¼Œæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ·»åŠ æ–‡æ¡£æ ‡é¢˜å](../images/name-20200209.jpg)

* æ“ä½œå¦‚ä¸‹ï¼šåœ¨ index.html æ–‡ä»¶é‡Œæ·»åŠ  name å­—æ®µï¼š

```html
<script>
    window.$docsify = {
      name: 'EnjoyToShare',
    }
  </script>
```

> è‹¥æƒ³åœ¨ç‚¹å‡»æ–‡æ¡£æ ‡é¢˜çš„æ—¶å€™é“¾æ¥åˆ°æƒ³è¦çš„åœ°å€ï¼Œå¯è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š

* æ“ä½œå¦‚ä¸‹ï¼šåœ¨ index.html æ–‡ä»¶é‡Œæ·»åŠ  nameLink å­—æ®µï¼š

```html
<script>
    window.$docsify = {
      nameLink: 'https://wugenqiang.gitee.io',
    }
  </script>
```

### 3.3 æ·»åŠ  GitHub å›¾æ ‡

* åœ¨é¡µé¢å³ä¸Šè§’æ·»åŠ  GitHub å›¾æ ‡ï¼Œæ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ·»åŠ  GitHub å›¾æ ‡](../images/repo-20200209.jpg)

* æ“ä½œå¦‚ä¸‹ï¼šåœ¨ index.html æ–‡ä»¶é‡Œæ·»åŠ  repo å­—æ®µï¼š

```html
<script>
    window.$docsify = {
      repo: 'wugenqiang/CS-Notes',
    }
  </script>
```

### 3.4 æ·»åŠ ç¼–è¾‘æ–‡æ¡£æŒ‰é’®

* æ“ä½œå¦‚ä¸‹ï¼šåœ¨ index.html æ–‡ä»¶é‡Œæ·»åŠ ï¼š

```html
<script>
    window.$docsify = {
      formatUpdated: '{YYYY}/{MM}/{DD} {HH}:{mm}',
      plugins: [
        function(hook, vm) {
          hook.beforeEach(function (html) {
            var url = 'https://github.com/wugenqiang/CS-Notes/tree/master/' + vm.route.file
              var editHtml = '[ğŸ“ EDIT DOCUMENT](' + url + ')\n'
              var editHtml_end = '[ğŸ–Š Edit Document](' + url + ')\n'
              return editHtml
                   + html
                   + '\n----\n'
                   + '> Last Modified {docsify-updated} '
                   + editHtml_end
          })
        }
      ],
    }
  </script>
```

* æ³¨æ„ï¼šè®°å¾—å°†ä»£ç ä¸­çš„ `'> Last Modified {docsify-updated}'`ä¸­{docsify-updated}æ”¹æˆ { docsify-updated },æ‹¬å·å’Œå­—æ¯ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼ï¼

* `formatUpdated` å­—æ®µä¸ºæ›´æ–°æ—¶é—´æ ¼å¼ï¼Œè‹¥ä¸åŠ è¿™ä¸€å­—æ®µï¼Œåˆ™{ docsify-updated }å­—æ®µå†…å®¹ä¸æ˜¾ç¤º

## 4 å®šåˆ¶åŠŸèƒ½

### 4.1 æ”¯æŒ DOT è¯­è¨€ä½œå›¾

> DOT è¯­è¨€æ˜¯è´å°”å®éªŒå®¤å¼€å‘çš„ç”¨äºä½œå›¾çš„è„šæœ¬è¯­è¨€ï¼Œæœ€åˆåœ¨æ¡Œé¢ç«¯ç¨‹åº Graphviz ä¸­æ”¯æŒã€‚åæ¥æœ‰äººå¼€å‘äº† Viz.js ä½¿å¾—æµè§ˆå™¨ç«¯ä¹Ÿèƒ½æ”¯æŒ DOT è¯­è¨€ä½œå›¾çš„æ¸²æŸ“ã€‚æˆ‘ä»¬çš„ç›®çš„å¦‚ä¸‹ï¼šå½“ Markdown æ¸²æŸ“å™¨è¯†åˆ«åˆ°ä¸€å¤„è¯­è¨€åä¸º dot ä»£ç å—æ—¶ï¼Œå°±è°ƒç”¨ Viz.js æ¸²æŸ“ä»£ç å—ä¸­çš„è¯­å¥ï¼Œä½¿å®ƒä»¬æˆä¸º DOT è¯­è¨€å®šä¹‰çš„çŸ¢é‡å›¾ã€‚

> å…·ä½“æ“ä½œå¦‚ä¸‹ï¼šï¼ˆä»¥ä¸‹æ‰€æœ‰æ“ä½œéƒ½åœ¨ docsify é¡¹ç›®çš„ index.html æ–‡ä»¶ä¸­è¿›è¡Œï¼‰

* ï¼ˆ1ï¼‰é¦–å…ˆï¼Œå¼•å…¥ Viz.js æ–‡ä»¶ï¼Œåªè¦åœ¨ head ä¸­æ·»åŠ ä¸€æ¡è¯­å¥å°±è¡Œï¼š

```js
  <script src="https://cdn.jsdelivr.net/npm/viz.js@1.8.0/viz.js"></script>
```

* ï¼ˆ2ï¼‰æ·»åŠ å¦‚ä¸‹éƒ¨åˆ†ï¼š

```js
<script>
    window.$docsify = {
      markdown: {
        renderer: {
          code: function(code, lang) {
            if (lang === "dot") {
              return (
                      '<div class="viz">'+ Viz(code, "SVG")+'</div>'
              );
            }
            return this.origin.code.apply(this, arguments);
          }
        }
      }
    }
  </script>
```

> ä¸‹é¢çœ‹çœ‹å…·ä½“å®ç°ï¼š

* æ“ä½œï¼š

```
â€‹```dot
digraph demo{
    A->B[dir=both];
    B->C[dir=none];
    C->D[dir=back];
    D->A[dir=forward];
}
â€‹```
```

* æ•ˆæœå›¾ï¼š

```dot
digraph demo{
    A->B[dir=both];
    B->C[dir=none];
    C->D[dir=back];
    D->A[dir=forward];
}
```

### 4.2 æ”¯æŒ LaTex æ•°å­¦å…¬å¼

> LaTeX æ˜¯å¤§é—¨é¼é¼çš„æ–‡æ¡£æ’ç‰ˆè½¯ä»¶ï¼Œå®ƒå¯¹äºæ•°å­¦å…¬å¼çš„æ”¯æŒéå¸¸å¥½ã€‚å’Œ DOT è¯­è¨€ç±»ä¼¼ï¼Œä¸€å¼€å§‹ä¹Ÿæ˜¯åªæœ‰æ¡Œé¢ç«¯ç¨‹åºæ”¯æŒï¼Œä½†æ˜¯åæ¥åŒæ ·æœ‰äººå¼€å‘äº†å„ç§å„æ ·çš„ .js æ¥åœ¨æµè§ˆå™¨ç«¯è¿›è¡Œæ”¯æŒã€‚

> å…·ä½“æ“ä½œå¦‚ä¸‹ï¼šï¼ˆä»¥ä¸‹æ‰€æœ‰æ“ä½œéƒ½åœ¨ docsify é¡¹ç›®çš„ index.html æ–‡ä»¶ä¸­è¿›è¡Œï¼‰

* ï¼ˆ1ï¼‰å¼•å…¥ docsify-katex.jsï¼Œhead ä¸­æ·»åŠ ï¼š

```js
<!-- CDN files for docsify-katex -->
<script src="//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js"></script>
<!-- or <script src="//cdn.jsdelivr.net/gh/upupming/docsify-katex@latest/dist/docsify-katex.js"></script> -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"/>
```

> ä¸‹é¢çœ‹çœ‹å…·ä½“å®ç°ï¼š

* æ“ä½œï¼š

```
$$
\left[
\begin{matrix}
 1      & 2      & \cdots & 4      \\
 7      & 6      & \cdots & 5      \\
 \vdots & \vdots & \ddots & \vdots \\
 8      & 9      & \cdots & 0      \\
\end{matrix}
\right]
$$
```

* æ•ˆæœå›¾ï¼š

$$
\left[
\begin{matrix}
 1      & 2      & \cdots & 4      \\
 7      & 6      & \cdots & 5      \\
 \vdots & \vdots & \ddots & \vdots \\
 8      & 9      & \cdots & 0      \\
\end{matrix}
\right]
$$



> æ›´å¤š Latex çŸ©é˜µæ ·å¼è¯·å‚è€ƒ [ä½¿ç”¨ Latex å†™çŸ©é˜µ](https://wugenqiang.github.io/CS-Notes/#/markdown/mdNotes?id=_16-ä½¿ç”¨-latex-å†™çŸ©é˜µ)

### 4.3 æ”¯æŒ PDF é¡µé¢å±•ç¤º

* ï¼ˆ1ï¼‰åœ¨ index.html ä¸­æ·»åŠ æ’ä»¶ï¼š

```js
<!-- PDFObject.js is a required dependency of this plugin -->
<script src="//cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js"></script> 
<!-- docsify-pdf-embed.js  -->
<script src="//unpkg.com/docsify-pdf-embed-plugin/src/docsify-pdf-embed.js"></script>
```

* ï¼ˆ2ï¼‰åœ¨ index.html ä¸­æ·»åŠ ä»£ç ï¼š

```js
markdown: {
        renderer: {
          code: function(code, lang, base=null) {

            /* if (lang === "dot") {
              return (
                      '<div class="viz">'+ Viz(code, "SVG")+'</div>'
              );
            } */

            var pdf_renderer = function(code, lang, verify) {
              function unique_id_generator(){
                function rand_gen(){
                  return Math.floor((Math.random()+1) * 65536).toString(16).substring(1);
                }
                return rand_gen() + rand_gen() + '-' + rand_gen() + '-' + rand_gen() + '-' + rand_gen() + '-' + rand_gen() + rand_gen() + rand_gen();
              }
              if(lang && !lang.localeCompare('pdf', 'en', {sensitivity: 'base'})){
                if(verify){
                  return true;
                }else{
                  var divId = "markdown_code_pdf_container_" + unique_id_generator().toString();
                  var container_list = new Array();
                  if(localStorage.getItem('pdf_container_list')){
                    container_list = JSON.parse(localStorage.getItem('pdf_container_list'));
                  }
                  container_list.push({"pdf_location": code, "div_id": divId});
                  localStorage.setItem('pdf_container_list', JSON.stringify(container_list));
                  return (
                          '<div style="margin-top:'+ PDF_MARGIN_TOP +'; margin-bottom:'+ PDF_MARGIN_BOTTOM +';" id="'+ divId +'">'
                          + '<a href="'+ code + '"> Link </a> to ' + code +
                          '</div>'
                  );
                }
              }
              return false;
            }
            if(pdf_renderer(code, lang, true)){
              return pdf_renderer(code, lang, false);
            }
            //return this.origin.code.apply(this, arguments);
            return (base ? base : this.origin.code.apply(this, arguments));
          }
        }
      }
```

* ï¼ˆ3ï¼‰ä½¿ç”¨å‘½ä»¤ï¼š

```
â€‹```pdf
path-to-the-pdf-file,,,example: https://wugenqiang.github.io/ibooks/web/viewer.html?file=../pdf-book/leetcode-cpp.pdf
â€‹```
```

> ç»“æœå±•ç¤ºï¼š

```pdf
https://wugenqiang.github.io/ibooks/web/viewer.html?file=../pdf-book/leetcode-cpp.pdf
```

### 4.4 æ”¯æŒå›åˆ°é¡¶éƒ¨

> æ–¹æ³•ï¼šé€šè¿‡ jQuery å®šä¹‰æ’ä»¶ jQuery GoUp å®ç°ç‚¹å‡»å›åˆ°é¡¶éƒ¨åŠŸèƒ½ã€‚

* æ•ˆæœå›¾å¦‚ä¸‹ï¼š

![](https://wugenqiang.github.io/PictureBed/CS-Notes/20200316182427.jpg)

> æ“ä½œå¦‚ä¸‹ï¼š

* ï¼ˆ1ï¼‰å¼•ç”¨ jquery åº“å’Œ jquery.goup.min.js åˆ° index.html

```js
  <script src="https://wugenqiang.github.io/CS-Notes/plugin/jquery.js"></script>
  <script src="https://wugenqiang.github.io/CS-Notes/plugin/jquery.goup.js"></script>
```

* åœ¨è°ƒç”¨ä¸‹æ’ä»¶ï¼š

```js
<script type="text/javascript">
    $(document).ready(function () {
      $.goup({
        trigger: 100,
        bottomOffset: 32,
        locationOffset: 32,
        title: 'TOP',
        titleAsText: true
      });
    });
  </script>
```

